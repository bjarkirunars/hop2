{"version":3,"sources":["video.js"],"names":[],"mappings":"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","file":"video-compiled.js","sourcesContent":["function removeOverlay() {\r\n  const overlay = document.querySelector('.video__overlay');\r\n  let sign = overlay.querySelector('img');\r\n  overlay.classList.remove('video__overlay');\r\n  overlay.classList.add('video__notoverlay');\r\n  overlay.removeChild(sign);\r\n  sign = document.querySelector('.playNpause');\r\n  sign.src = 'img/pause.svg';\r\n}\r\n\r\nfunction setOverlay() {\r\n  const overlay = document.querySelector('.video__notoverlay');\r\n  let sign = document.createElement('img');\r\n  overlay.classList.remove('video__notoverlay');\r\n  overlay.classList.add('video__overlay');\r\n  sign.src = 'img/play.svg';\r\n  sign.classList.add('video__overlay__play');\r\n  sign.classList.add('video__sign');\r\n  /* eslint-disable */\r\n  sign.addEventListener('click', playOrPause);\r\n  /* eslint-enable */\r\n  overlay.insertBefore(sign, overlay.firstChild);\r\n  sign = document.querySelector('.playNpause');\r\n  sign.src = 'img/play.svg';\r\n}\r\n\r\nfunction removeAllBorders() {\r\n  const videoSigns = document.querySelectorAll('.video__sign');\r\n  videoSigns.forEach((e) => {\r\n    e.classList.remove('video__sign__border');\r\n  });\r\n}\r\n\r\nfunction playOrPause() {\r\n  const video = document.querySelector('.video');\r\n  if (video.paused) {\r\n    video.play();\r\n    removeOverlay();\r\n  } else {\r\n    video.pause();\r\n    setOverlay();\r\n  }\r\n  if (this.classList.contains('playNpause')) {\r\n    removeAllBorders();\r\n    this.classList.add('video__sign__border');\r\n  }\r\n}\r\n\r\nfunction muteOrUnmute() {\r\n  const video = document.querySelector('.video');\r\n  if (video.muted) {\r\n    video.muted = false;\r\n    this.src = 'img/mute.svg';\r\n  } else {\r\n    video.muted = true;\r\n    this.src = 'img/unmute.svg';\r\n  }\r\n  removeAllBorders();\r\n  this.classList.add('video__sign__border');\r\n}\r\n\r\nfunction fullscreen() {\r\n  const video = document.querySelector('.video');\r\n  if (video.requestFullscreen) {\r\n    video.requestFullscreen();\r\n  } else if (video.mozRequestFullScreen) {\r\n    video.mozRequestFullScreen();\r\n  } else if (video.webkitRequestFullscreen) {\r\n    video.webkitRequestFullscreen();\r\n  } else if (video.msRequestFullscreen) {\r\n    video.msRequestFullscreen();\r\n  }\r\n}\r\n\r\nfunction backOrForward() {\r\n  const video = document.querySelector('.video');\r\n  if (this.classList[1] === 'backward') {\r\n    video.currentTime -= 3;\r\n  } else {\r\n    video.currentTime += 3;\r\n  }\r\n  removeAllBorders();\r\n  this.classList.add('video__sign__border');\r\n}\r\n\r\nfunction settingsForEvents() {\r\n  const videoOptions = document.querySelectorAll('.video__sign');\r\n  videoOptions.forEach((e) => {\r\n    const classList = e.classList[1];\r\n    if (classList === 'playNpause') {\r\n      e.addEventListener('click', playOrPause);\r\n    } else if (classList === 'sound') {\r\n      e.addEventListener('click', muteOrUnmute);\r\n    } else if (classList === 'fullscreen') {\r\n      e.addEventListener('click', fullscreen);\r\n    } else if (classList === 'backward') {\r\n      e.addEventListener('click', backOrForward);\r\n    } else if (classList === 'forward') {\r\n      e.addEventListener('click', backOrForward);\r\n    }\r\n  });\r\n  const overlay = document.querySelector('.video__overlay');\r\n  const overlaySign = overlay.querySelector('img');\r\n  overlaySign.addEventListener('click', playOrPause);\r\n}\r\n\r\nfunction villuskilabod() {\r\n  const grid = document.querySelector('.main__grid');\r\n  const main = document.querySelector('main');\r\n  const h1 = document.createElement('h1');\r\n  const h2 = document.createElement('h2');\r\n  let textNode = document.createTextNode('error');\r\n  grid.hidden = true;\r\n  h1.appendChild(textNode);\r\n  main.appendChild(h1);\r\n  textNode = document.createTextNode('Myndband fannst ekki');\r\n  h2.appendChild(textNode);\r\n  main.appendChild(h2);\r\n}\r\n\r\nfunction removeBuffering() {\r\n  const buff = document.querySelector('.buff');\r\n  const main = document.querySelector('main');\r\n  main.removeChild(buff);\r\n}\r\n\r\nfunction resolve(response) {\r\n  const url = document.URL;\r\n  const id = url.match('/?id=(.*)');\r\n  const grid = document.querySelector('.main__grid');\r\n  let eid;\r\n  let video;\r\n  let title;\r\n  let videoElement;\r\n  response.videos.forEach((e) => {\r\n    eid = e.id.toString();\r\n    if (eid === id[1]) {\r\n      video = e.video.toString();\r\n      title = e.title.toString();\r\n    }\r\n  });\r\n\r\n  if (!video) {\n    removeBuffering();\r\n    villuskilabod();\r\n    return;\r\n  }\r\n  const node = document.createTextNode(title);\r\n  videoElement = document.querySelector('.video__heading');\r\n  videoElement.appendChild(node);\r\n  videoElement = document.querySelector('.video');\r\n  videoElement.setAttribute('src', video);\r\n  videoElement.currentTime = 2.4;\r\n  videoElement.addEventListener('ended', setOverlay);\r\n  removeBuffering();\r\n  grid.hidden = false;\r\n  settingsForEvents();\r\n}\r\n\r\nfunction buffering() {\r\n  const main = document.querySelector('main');\r\n  const buff = document.createElement('h1');\r\n  const textNode = document.createTextNode('Hleð inn gögn....');\r\n  buff.appendChild(textNode);\r\n  buff.classList.add('buff');\r\n  main.appendChild(buff);\r\n}\r\n\r\nfunction setUp() {\r\n  const request = new Request('/videos.json', { method: 'GET' });\r\n  fetch(request)\r\n    .then((response) => {\r\n      if (response.status === 200) {\r\n        return response.json();\r\n      }\r\n\r\n      throw new Error('Something went wrong on api server!');\r\n    })\r\n    .then((response) => {\r\n      console.debug(response);\r\n      resolve(response);\r\n    })\r\n    .catch((error) => {\r\n      console.error(error);\r\n    });\r\n}\r\nbuffering();\r\ndocument.addEventListener('DOMContentLoaded', setUp);\r\n"]}